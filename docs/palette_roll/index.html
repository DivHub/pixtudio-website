<!doctype html><html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=stylesheet href=/pixtudio-website/main.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=apple-touch-icon sizes=180x180 href=https://divhub.github.io/pixtudio-website/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://divhub.github.io/pixtudio-website/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://divhub.github.io/pixtudio-website/favicon-16x16.png><link rel=manifest href=https://divhub.github.io/pixtudio-website/site.webmanifest><link rel=mask-icon href=https://divhub.github.io/pixtudio-website/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><body><nav class="navbar is-primary"><div class=container><div class=navbar-brand><a href=https://divhub.github.io/pixtudio-website/ class=navbar-item>PixTudio</a>
<span class="navbar-burger burger" data-target=main-navbar><span></span><span></span><span></span></span></div><div class=navbar-menu id=main-navbar><div class="navbar-end has-text-centered-mobile"><a class=navbar-item title=Docs href=/pixtudio-website/docs/>Docs
</a><a class=navbar-item title=Compile href=/pixtudio-website/compile/>Compile</a></div></div></div></nav><script>document.addEventListener('DOMContentLoaded',()=>{const $navbarBurgers=Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'),0);if($navbarBurgers.length>0){$navbarBurgers.forEach(el=>{el.addEventListener('click',()=>{const target=el.dataset.target;const $target=document.getElementById(target);el.classList.toggle('is-active');$target.classList.toggle('is-active');});});}});</script><div class=section><div class=container><div class=columns><div class="column is-3"><div id=search-section><div id=search-form class=field><div class=control><input id=search-input class=input type=text placeholder="Search Docs"></div></div><div id=search-results-box class=box style=max-height:40%;overflow:hidden;overflow-y:auto;position:absolute;display:none><ul id=search-results-list></ul><div id=search-results-noresults class="notification is-info">No results found.</div></div></div><aside class=menu><ul class=menu-list><li><a href=https://divhub.github.io/pixtudio-website/docs/>Docs</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/general/>General</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/language/>Language</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/modules/>Modules</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/functions/>Functions</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/variables/>Variables</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/constants/>Constants</a></li><li><a href=https://divhub.github.io/pixtudio-website/docs/guides/>Guides and Tutorials</a></li></ul></aside></div><div class="column is-6"><nav class=breadcrumb aria-label=breadcrumbs><ul><li><a href=https://divhub.github.io/pixtudio-website/docs/>PixTudio Documentation</a></li><li class=is-active><a href=https://divhub.github.io/pixtudio-website/docs/palette_roll/ aria-current=page></a></li></ul></nav><h1 class="title is-2"></h1><div class=content><h2 id=syntax>Syntax</h2><p><strong>INT</strong> palette_roll ( &lt;<strong>INT</strong> start_color&gt; , &lt;<strong>INT</strong>
end_color&gt; , &lt;<strong>INT</strong> increment&gt; )</p><h2 id=description>Description</h2><p>Cycles the colors in the <a href=palette title=wikilink>palette</a> by rotating them.
This function shifts colors between the range specified by the start
color and the end color, at a given increment. This can be used to
create a very old school waterfall animation effect. This technique is
called <a href=http://en.wikipedia.org/wiki/Color_cycling>color cycling</a>. It
is a very memory efficient way of doing these kinds of animations, since
only one bitmap is used and the effect is achieved by cycling through a
specific range of colors. <a href="http://www.effectgames.com/demos/canvascycle/?sound=0"><em>Here&rsquo;s a nice (web based) example of this
technique in
action</em></a>.</p><p>To use this function, you have to create graphics that use a range of
consecutive colors of the original palette, in a perpetual cycle (i.e.,
colors ranging from 0 to 15, painting something with the colors 0, 1, 2,
3, &hellip; , 14, 15, 0, 1, 2, &hellip;).</p><p>Also, make sure that these colors are not used by other graphics that
are going to appear on the screen at the same time, if you do not want
to apply these effects on them, or they&rsquo;ll look funny.</p><p><strong><em>One important thing, this function only works in 8 bit mode.</em></strong></p><p>The previous name <a href=roll_palette title=wikilink>roll_palette</a>() is
deprecated.</p><h2 id=parameters>Parameters</h2><hr><p><strong>INT</strong> start_color - The start color of the range (0-255).
<strong>INT</strong> end_colors - The last color of the range (0-255).
<strong>INT</strong> increment - The cycle speed (-1, 0, 1, etc).</p><hr><h2 id=notes>Notes</h2><p>An increment of 0 is pointless, because that will stop the cycle. The
higher the number, the faster the cycle goes. Negative values will cycle
in the opposite direction.</p><h2 id=returns>Returns</h2><p><strong>INT</strong> : Status.</p><hr><p>1 - Success.</p><hr><h2 id=example>Example</h2><pre><code>IMPORT &quot;mod_debug&quot;;
IMPORT &quot;mod_say&quot;;
IMPORT &quot;mod_map&quot;;
IMPORT &quot;mod_key&quot;;
IMPORT &quot;mod_video&quot;;
IMPORT &quot;mod_screen&quot;;
IMPORT &quot;mod_text&quot;;


GLOBAL
   int map;
   int fnt;

   byte color_increment=1;
   byte initial_color;
   byte num_colors=10;

PROCESS main();

BEGIN

   set_fps(50,0);
   set_mode(640,480,8);     // for palette_roll to work is the 8 bit mode required!

   map=load_map(&quot;MAP.MAP&quot;);

   put_screen(0,map);

   write(0,10,10,3,&quot;Rolling Palette demo, +/-: change number of colors, 0, 1, 2: change increment, Press ESC to quit...&quot;);

   REPEAT

      // changes the amount of colors      
      IF (key(_plus) AND num_colors&lt;255)
         FRAME;
         num_colors+=1;
      END

      IF (key(_minus) AND num_colors&gt;1)
         FRAME;
         num_colors-=1;
      END


      // change the speed 
      IF (key(_0))
         FRAME;
         color_increment=0;
      END

      IF (key(_1))
         FRAME;
         color_increment=1;
      END

      IF (key(_2))
         FRAME;
         color_increment=-1;
      END

      // roll the palette
      palette_roll(initial_color,num_colors,color_increment);      
      say(&quot;initial color: &quot;+initial_color+&quot; num color: &quot;+num_colors+&quot; increment: &quot;+color_increment);


      FRAME;
   UNTIL(key(_esc))

END
</code></pre><p>Used in example: <a href=Say title=wikilink>Say</a>(), <a href=Key title=wikilink>Key</a>(),
<a href=Write title=wikilink>Write</a>()</p><p><a href=Category:functions>Category:functions</a> <a href=Category:palettes>Category:palettes</a> <a href=Category:mod_map>Category:mod_map</a></p></div></div><div class="column is-3"><nav id=TableOfContents><ul><li><ul><li><a href=#syntax>Syntax</a></li><li><a href=#description>Description</a></li><li><a href=#parameters>Parameters</a></li><li><a href=#notes>Notes</a></li><li><a href=#returns>Returns</a></li><li><a href=#example>Example</a></li></ul></li></ul></nav></div></div></div></div><footer class=footer><div class="container has-text-centered"><div class="footer-section footer-logo-section margin-2"><p>PixTudio | A 2D game engine for Windows, Linux, OS X, Android &amp; iOS.</p></div><div class="footer-section footer-copyright-section"><p>Made with ❤️ |
Design by <a href=https://tehuel.blog>Tehuel</a>
| <a href=https://github.com/DivHub/pixtudio-website/edit/master/content/docs/palette_roll.md>Edit this page on Github</a></p></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.3.0/fuse.min.js></script><script src=/pixtudio-website/js/search.min.80a2eb909ba11ec0900ab4ae5fbfcf2d.js></script></body></html>