let searchDataURL="https://divhub.github.io/pixtudio-website/index.json";let searchResultsBox=document.querySelector("#search-results-box");let searchResultsList=document.querySelector("#search-results-list");let searchResultsAlert=document.querySelector("#search-results-noresults");let searchIndex=null;let fuse=null
let fuseOptions={shouldSort:true,includeMatches:true,threshold:0.0,tokenize:true,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:0.8},{name:"contents",weight:0.5},]};const hideResultsBox=()=>{searchResultsBox.style.display='none';};const showResultsBox=()=>{searchResultsBox.style.display='';};const hideResultsList=()=>{searchResultsList.style.display='none';};const showResultsList=()=>{searchResultsList.style.display='';};const hideResultsAlert=()=>{searchResultsAlert.style.display='none';};const showResultsAlert=()=>{searchResultsAlert.style.display='';};const displayResults=(results)=>{searchResultsList.innerHTML="";results.forEach((el,i)=>{var template=document.createRange().createContextualFragment(`<li><a href="${el.item.permalink}"><span class="is-size-6">${el.item.title}</span></a></li>`);searchResultsList.appendChild(template);});};const executeSearch=(searchQuery)=>{if(!searchQuery){return;}
var fuseResult=fuse.search(searchQuery);showResultsBox();if(fuseResult.length>0){displayResults(fuseResult);showResultsBox();showResultsList();hideResultsAlert();}else{showResultsBox();hideResultsList();showResultsAlert();}};const initializeSearch=()=>{var request=new XMLHttpRequest();request.open('GET',searchDataURL,true);request.onload=function(){if(this.status>=200&&this.status<400){searchIndex=JSON.parse(this.response);fuse=new Fuse(searchIndex,fuseOptions);}};request.send();hideResultsBox();}
document.addEventListener("DOMContentLoaded",function(event){initializeSearch();document.querySelector('#search-input').addEventListener("input",function(event){let value=event.target.value;if(!value){hideResultsBox();}else{executeSearch(value);}});});